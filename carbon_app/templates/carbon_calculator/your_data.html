{% extends "layout.html" %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='carbon_calculator.css') }}">

{% endblock %}

{% block header %}

{% endblock%}

{% block content %}

    <!-- New Entry Section -->
    <section class="main_menu" style="margin: auto; width: auto; overflow: hidden;" >
      <div class="container">
          <div class="box">

          </div>
          <div class="box" style="margin: auto; width: 50%; padding: 10px; text-align: center;"> 
              <div class="container_buttons_links_main_menu">
                  <div class="btn">
                    <a type="button" class="btn btn-success" href="{{url_for('carbon_calculator.new_entry')}}">New Entry</a>
                    <a type="button" class="btn btn-success" href="{{url_for('carbon_calculator.carbon_calculator_func')}}">View Your Data</a>
                  </div>   
              </div>        
          </div>
          <div class="box">

          </div>
      </div>
    </section> 



    <!-- Table Section -->
    <section class="table_main">
    <div class="container">
        <div class="box">

        </div>
        <div class="box" style="overflow-x:auto;">  
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">
                            {{ message }}
                        </div> 
                    {% endfor %}
                {% endif %}
            {% endwith %}         
            <table class="table">
                <thead class="thead-dark">
                    <tr class="table_top">
                        <th scope="col">User</th>
                        <th scope="col" style="min-width:100px;">Date</th>
                        <th scope="col">kms</th>
                        <th scope="col">Transport</th>
                        <th scope="col">Fuel</th>
                        <th scope="col">Total</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in entries %}
                        <tr class="table_bot">
                            <th scope="row">{{ current_user.username }}</th>
                            <td>{{ entry.date.strftime("%m-%d-%Y") }}</td>
                            <td>{{ entry.kms }}</td>
                            <td>{{ entry.transport }}</td>
                            <td>{{ entry.fuel }}</td>
                            <td>{{ entry.total }}</td>
                            <td style="width:60px;"><a href="{{ url_for('carbon_calculator.delete_emission', entry_id = entry.id) }}" class="btn btn-outline-danger btn-sm">Delete</a></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>       
        </div>
        <div class="box">

        </div>
    </div>
    </section> 


    
{% endblock content %}
